## ---- echo = TRUE---------------------------------------------------------------------------------------------------------------------
# ------------
# Installing R
# ------------

## -------------------------------------------------------------------------------------------------------------------------------------
library(DeclareDesign)
library(tidyverse)
library(rdddr)


## ---- echo = TRUE---------------------------------------------------------------------------------------------------------------------
# -----------
# Declaration
# -----------

## -------------------------------------------------------------------------------------------------------------------------------------
simple_random_assignment <- 
  declare_assignment(Z = simple_ra(N = N, prob = 0.6))


## ----eval = TRUE----------------------------------------------------------------------------------------------------------------------
participants <- data.frame(ID = 1:100)

assignment_1 <- simple_random_assignment(participants)
assignment_2 <- simple_random_assignment(participants)
assignment_3 <- simple_random_assignment(participants)

bind_cols(assignment_1, assignment_2, assignment_3)


## ----file = "scripts_declarations/declaration_4.1.R"----------------------------------------------------------------------------------


## ---- echo = TRUE---------------------------------------------------------------------------------------------------------------------
# -------------------------------------
# Diagnosis {#diagnose-design-function}
# -------------------------------------

## ----eval = TRUE----------------------------------------------------------------------------------------------------------------------
diagnose_design(declaration_4.1, sims = 100)


## ---- echo = TRUE---------------------------------------------------------------------------------------------------------------------
# -----------------------------
# Redesign {#redesign-function}
# -----------------------------

## ----eval = TRUE----------------------------------------------------------------------------------------------------------------------
designs <- redesign(declaration_4.1, N = c(100, 200, 300, 400, 500))


## ----eval = TRUE----------------------------------------------------------------------------------------------------------------------
diagnose_design(designs)


## ---- echo = TRUE---------------------------------------------------------------------------------------------------------------------
# ------------------
# Library of designs
# ------------------

## ----eval = TRUE----------------------------------------------------------------------------------------------------------------------
library(DesignLibrary)

block_cluster_design <- block_cluster_two_arm_designer(N = 1000, N_blocks = 10)

